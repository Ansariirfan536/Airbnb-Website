<% layout("/layouts/boilerplate") %>
<div class="row mt-3">
  <div class="col-8 offset-2">
    <h2>Your Cart</h2>
    <% if (!cart || cart.length === 0) { %>
      <p>Your cart is empty.</p>
    <% } else { %>
      <ul class="list-group">
        <% cart.forEach(item => { %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
              <strong><%= item.title %></strong>
              <div>
                <small>&#8377;<%= item.price.toLocaleString("en-IN") %></small>
              </div>
            </div>
            <div>
              <form method="POST" action="/cart/remove/<%= item.id %>" style="display:inline">
                <button class="btn btn-sm btn-outline-danger"><i class="fa-regular fa-trash-can"></i></button>
              </form>
            </div>
          </li>
        <% }) %>
      </ul>
      <br>
      <p><strong>Total:</strong> &#8377;<%= cart.reduce((s,i)=>s+(i.price||0),0).toLocaleString("en-IN") %></p>
    <% } %>
  </div>
</div>